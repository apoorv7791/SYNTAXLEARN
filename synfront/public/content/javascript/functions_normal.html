<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h2 {
            color: #FF8C00;
            border-bottom: 2px solid #FFA500;
            padding-bottom: 10px;
        }

        pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid #ddd;
        }

        code {
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            background-color: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .note {
            background-color: #fff8dc;
            border-left: 4px solid #ffeb3b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>

<body>
    <h2>Functions in JavaScript</h2>

    <p>Functions are one of the fundamental building blocks in JavaScript. A function is a reusable block of code designed to perform a particular task. Functions help make your code more organized, reusable, and maintainable.</p>

    <h3>Function Declaration</h3>
    <p>There are several ways to define functions in JavaScript:</p>

    <h4>Function Declaration</h4>
    <pre><code>// Syntax
function functionName(parameter1, parameter2, ...) {
    // function body
    return value;  // optional
}

// Example
function greet(name) {
    return `Hello, ${name}!`;
}

console.log(greet("John"));  // Output: "Hello, John!"</code></pre>

    <h4>Function Expression</h4>
    <pre><code>// Syntax
const functionName = function(parameter1, parameter2, ...) {
    // function body
    return value;  // optional
};

// Example
const greet = function(name) {
    return `Hello, ${name}!`;
};

console.log(greet("John"));  // Output: "Hello, John!"</code></pre>

    <h4>Arrow Functions (ES6)</h4>
    <pre><code>// Syntax
const functionName = (parameter1, parameter2, ...) => {
    // function body
    return value;  // optional
};

// Example
const greet = (name) => {
    return `Hello, ${name}!`;
};

// Shorter syntax for single expressions
const greet = name => `Hello, ${name}!`;

console.log(greet("John"));  // Output: "Hello, John!"</code></pre>

    <div class="note">
        <strong>Note:</strong> Arrow functions have a few differences from regular functions:
        <ul>
            <li>They don't have their own <code>this</code> binding</li>
            <li>They cannot be used as constructors (with <code>new</code>)</li>
            <li>They don't have <code>arguments</code> object</li>
            <li>They don't have their own <code>super</code> or <code>new.target</code></li>
        </ul>
    </div>

    <h3>Function Parameters</h3>
    <p>Functions can take parameters, which are values you pass to the function when you call it.</p>

    <h4>Default Parameters</h4>
    <pre><code>// Syntax
function functionName(parameter1 = defaultValue1, parameter2 = defaultValue2, ...) {
    // function body
}

// Example
function greet(name = "Guest") {
    return `Hello, ${name}!`;
}

console.log(greet());        // Output: "Hello, Guest!"
console.log(greet("John"));  // Output: "Hello, John!"</code></pre>

    <h4>Rest Parameters</h4>
    <pre><code>// Syntax
function functionName(...parameterName) {
    // function body
}

// Example
function sum(...numbers) {
    return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3, 4, 5));  // Output: 15</code></pre>

    <h3>Function Return</h3>
    <p>Functions can return a value using the <code>return</code> statement. If no return statement is used, or an empty return is used, the function returns <code>undefined</code>.</p>

    <pre><code>// Example with return
function multiply(a, b) {
    return a * b;
}

console.log(multiply(5, 3));  // Output: 15

// Example without return
function logMessage(message) {
    console.log(message);
    // No return statement, so it returns undefined
}

const result = logMessage("Hello");
console.log(result);  // Output: undefined</code></pre>

    <h3>Function Scope</h3>
    <p>Variables defined inside a function are not accessible from outside the function. This is called function scope.</p>

    <pre><code>// Example
function myFunction() {
    const localVar = "I'm local to the function";
    console.log(localVar);  // Accessible
}

myFunction();
// console.log(localVar);  // Error: localVar is not defined</code></pre>

    <h3>Closures</h3>
    <p>A closure is a function that has access to variables from its outer (enclosing) function's scope, even after the outer function has returned.</p>

    <pre><code>// Example
function createCounter() {
    let count = 0;
    
    return function() {
        count++;
        return count;
    };
}

const counter = createCounter();
console.log(counter());  // Output: 1
console.log(counter());  // Output: 2
console.log(counter());  // Output: 3</code></pre>

    <h3>Immediately Invoked Function Expressions (IIFE)</h3>
    <p>An IIFE is a function that runs as soon as it is defined.</p>

    <pre><code>// Syntax
(function() {
    // code
})();

// Example
(function() {
    const message = "Hello from IIFE!";
    console.log(message);
})();  // Output: "Hello from IIFE!"</code></pre>

    <h3>Higher-Order Functions</h3>
    <p>Higher-order functions are functions that take other functions as arguments or return functions as their results.</p>

    <h4>Functions as Arguments</h4>
    <pre><code>// Example
function executeOperation(x, y, operation) {
    return operation(x, y);
}

function add(a, b) {
    return a + b;
}

function multiply(a, b) {
    return a * b;
}

console.log(executeOperation(5, 3, add));      // Output: 8
console.log(executeOperation(5, 3, multiply));  // Output: 15</code></pre>

    <h4>Functions Returning Functions</h4>
    <pre><code>// Example
function createMultiplier(factor) {
    return function(number) {
        return number * factor;
    };
}

const double = createMultiplier(2);
const triple = createMultiplier(3);

console.log(double(5));  // Output: 10
console.log(triple(5));  // Output: 15</code></pre>

    <h3>Common Built-in Higher-Order Functions</h3>
    <p>JavaScript arrays have several built-in higher-order functions:</p>

    <h4>Array.prototype.map()</h4>
    <pre><code>// Creates a new array with the results of calling a provided function on every element
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(num => num * 2);
console.log(doubled);  // Output: [2, 4, 6, 8, 10]</code></pre>

    <h4>Array.prototype.filter()</h4>
    <pre><code>// Creates a new array with elements that pass the test implemented by the provided function
const numbers = [1, 2, 3, 4, 5];
const evenNumbers = numbers.filter(num => num % 2 === 0);
console.log(evenNumbers);  // Output: [2, 4]</code></pre>

    <h4>Array.prototype.reduce()</h4>
    <pre><code>// Executes a reducer function on each element, resulting in a single output value
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce((total, num) => total + num, 0);
console.log(sum);  // Output: 15</code></pre>

    <h4>Array.prototype.forEach()</h4>
    <pre><code>// Executes a provided function once for each array element
const numbers = [1, 2, 3, 4, 5];
numbers.forEach(num => console.log(num));
// Output:
// 1
// 2
// 3
// 4
// 5</code></pre>

    <h3>Recursion</h3>
    <p>Recursion is when a function calls itself until it reaches a base case.</p>

    <pre><code>// Example: Calculate factorial
function factorial(n) {
    // Base case
    if (n <= 1) {
        return 1;
    }
    // Recursive case
    return n * factorial(n - 1);
}

console.log(factorial(5));  // Output: 120 (5 * 4 * 3 * 2 * 1)</code></pre>

    <h3>Key Points to Remember</h3>
    <ul>
        <li>Functions are reusable blocks of code</li>
        <li>There are multiple ways to define functions: function declarations, function expressions, and arrow functions</li>
        <li>Functions can take parameters and return values</li>
        <li>Variables defined inside a function are scoped to that function</li>
        <li>Closures allow functions to access variables from their outer scope</li>
        <li>Higher-order functions take functions as arguments or return functions</li>
        <li>Recursion is when a function calls itself</li>
        <li>Arrow functions have a more concise syntax but behave differently with regard to <code>this</code></li>
    </ul>
</body>

</html>
